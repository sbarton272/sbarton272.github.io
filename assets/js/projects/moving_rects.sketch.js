function setup(){let e="sketch-container",t=document.getElementById(e).offsetWidth;createCanvas(t,windowHeight).parent(e),noStroke(),frameRate(FRAME_RATE),FREQ=ANMTN_CFG.hz/FRAME_RATE*TAU,calc_objs(),fill(RECT_CFG.clr)}function windowResized(){setup()}function calc_objs(){let e=windowHeight/GRID_SZ,t=windowWidth/GRID_SZ;rect_pos={vert:[],horz:[]},frame_num=0;for(let r=0;r<e;++r)for(let e=0;e<t;++e)r%2==0&&(r%4==0?rect_pos.horz.push({x:e*ANMTN_CFG.rect_space,y:r*GRID_SZ,move_left_row:!0}):rect_pos.horz.push({x:e*ANMTN_CFG.rect_space+GRID_SZ,y:r*GRID_SZ,move_left_row:!1})),e%2==0&&(e%4==0?rect_pos.vert.push({x:e*GRID_SZ,y:r*ANMTN_CFG.rect_space+GRID_SZ,move_down_col:!0}):rect_pos.vert.push({x:e*GRID_SZ,y:r*ANMTN_CFG.rect_space,move_down_col:!1}))}function move_delta(e){return sin(e*FREQ)*FREQ*ANMTN_CFG.distance}function draw(){clear();let e=color(0),t=color(255),r="light"===localStorage.getItem("theme")?e:t;fill(r);for(let e=0;e<rect_pos.horz.length;++e)rct=rect_pos.horz[e],rect(rct.x,rct.y,RECT_CFG.long,RECT_CFG.short),rct.move_left_row?rct.x-=move_delta(frame_num):rct.x+=move_delta(frame_num);for(let e=0;e<rect_pos.vert.length;++e)rct=rect_pos.vert[e],rect(rct.x,rct.y,RECT_CFG.short,RECT_CFG.long),rct.move_down_col?rct.y+=move_delta(frame_num):rct.y-=move_delta(frame_num);frame_num+=1}let rect_pos,frame_num,GRID_SZ=50,RECT_CFG={long:2*GRID_SZ,short:GRID_SZ,clr:0},FRAME_RATE=60,ANMTN_CFG={hz:.2,rect_space:4*GRID_SZ,distance:GRID_SZ/2},FREQ=0;